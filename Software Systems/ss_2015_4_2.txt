
Разветвленная инфраструктура  автоматизированной системы информационного обеспечения
подготовки космонавтов (АСИОПК) создана в НИИ ЦПК имени Ю.А.
Гагарина в 20092014 гг.[1].
С целью оценки возможности использования IT-инфраструктуры АСИОПК для реализации единого интегрированного  предполагается проведение работ по тестированию и отработке ряда новых программных и технических решений.
Уровень доступа состоит из одного или более  коммутаторов и структурированной кабельной системы.
В качестве сетевых коммутаторов используются модели типа Huawei S3352P-SI.
Для обеспечения отказоустойчивости каждый коммутатор уровня доступа подключен двумя  кабелями к коммутатору уровня распределения.
Уровень распределения предназначен для объединения коммутаторов уровня доступа в группы и подключения их к магистральной линии связи.
Уровень распределения состоит из пары  коммутаторов Huawei S5328C-EI-24S.
Каждый коммутатор уровня распределения подключен оптическим кабелем к коммутатору уровня ядра.
Уровень ядра предназначен для объединения всех подсетей и маршрутизации между ними.
В качестве маршрутизирующих коммутаторов используются два территориально разнесенных между собой коммутатора Huawei S9306.
Вычислительным ядром АСИОПК является виртуальный вычислительный комплекс, построенный на базе четырех серверов HP ProLiant DL380 G6, системы хранения NetApp, ПО виртуализации VMware [3] и резервного копирования Veeam [4].
На все серверы установлены гипервизоры VMware ESXi 5.1.0, объединенные в единую виртуальную инфраструктуру с помощью ПО VMware vCenter.
С целью проведения оценки возможности использования информационной инфраструктуры АСИОПК для реализации единого интегрированного УТМК предлагается провести работы по оценке характеристик информационной инфраструктуры АСИОПК, используя систему передачи данных открытого контура.
Для этого должен быть создан тестовый стенд и проведен ряд экспериментов, подтверждающих корректную работу специализированного ПО тренажеров и ФМС в рамках систем виртуализации.
Новейшая серверная технология, которая использовалась компанией Dell при разработке этого сервера, обеспечивает отличные возможности внедрения виртуализации, обработки больших объемов информации.
Сервер Dell PowerEdge R720 обладает прекрасной плотностью записи, обеспечивает сбалансированную производительность ввода-вывода, а также вычислительную мощность современных процессоров [5].
Производительные процессоры в сочетании с достаточным объемом оперативной памяти обеспечивают высокую эффективность серверных приложений.
С помощью сервера Dell PowerEdge R720 можно увеличить количество виртуальных машин на одном сервере и существенно расширить возможности виртуализированной среды.
Возможность установки дополнительного GPU-ускорителя, который оказывает дополнительную вычислительную поддержку при высокопроизводительных вычислениях, также помогает увеличить производительность технологии VDI [6].
В качестве ПО для виртуализации используется VMware VSphere 6 в редакции Enterprise Plus и Citrix Xenserver [7], данные версии ПО поддерживают все последние технологии, в том числе NVIDIA.
В роли специализированного ПО для проверки ИТ-инфраструктуры АСИОПК выступают виртуальные машины стенда системы виртуальной реальности, включающие в себя три рабочих места обучаемых пользователей и одно рабочее место преподавателя, и виртуальные машины автономного тренажера, включающие в себя визуализацию режима, виртуальный пульт управления и рабочее место инструктора.
В качестве технологии виртуализации GPU на обеих платформах виртуализации используется технология NVIDIA GRID vGPU.
NVIDIA создала технологию NVIDIA GRID vGPU, обеспечивающую прямую передачу графических команд каждой виртуальной машины в GPU, без трансляции гипервизором.
Один физический графический модуль, благодаря драйверу, имеет несколько профилей виртуального GPU c различным количеством ядер и дискретной графической памяти.
Именно данное преимущество, в отличие от других существующих технологий виртуализации графических ресурсов, даст возможность более оптимального распределения и использования дорогостоящих ресурсов графических серверов.
Для проведения тестирования используются специализированные тонкие клиенты Wyse P25 и Wyse Z90Q8 [8].
Wyse P25 с аппаратной поддержкой PCoIP  [9] для VMware View представляет собой нулевой клиент, обеспечивающий графическую производительность для таких сложных приложений, как CAD  и 3D-моделирование в реальном времени.
Клиент разработан специально для VMware View, с процессором от Teradici и аппаратной поддержкой протокола PCoIP, включая кэширование на стороне клиента для достижения высокого уровня производительности.
Подключается клиент с использованием сетевого интерфейса Ethernet, имеет 4 порта USB для подключения и проброса устройств, поддержку до 2 мониторов, при этом потребляя менее 8 Вт электроэнергии.
В отличие от программных реализаций выделенный аппаратный механизм PCoIP обеспечивает высокий уровень производительности графической системы для приложений, таким образом, клиент Wyse P25 обладает всеми преимуществами эффективной защищенной централизованной вычислительной среды единого .
Оптимизированные алгоритмы сжатия работают в режиме реального времени, обеспечивая максимальное качество изображений для доступной пропускной способности сети.
Клиент Wyse Z90Q8 это высокопроизводительный тонкий клиент, оснащенный средствами ускорения обработки графики и мультимедиа [10].
Дополнительная вычислительная мощность обеспечивает поддержку виртуального рабочего стола Windows и облачных приложений с широкими возможностями создания и обработки содержимого, воспроизведения видео высокого разрешения и работы с 3D-графикой.
Клиенты данной серии оснащены операционной системой Windows Embedded Standard.
Это обеспечивает отработку подключения внешних устройств к тонкому клиенту и оценку времени реакции на управление объектами с помощью данных манипуляторов.
Также предполагается использование при проведении проверок программных тонких клиентов, установленных на персональные компьютеры существующих рабочих мест, пользователей АСИОПК.
Параллельно оцениваются возможности комплекса технических и программных средств ИТ-инфраструктуры АСИОПК при использовании систем виртуализации и доступа к результатам вычислений виртуальными машинами ТСПК из ЦОД.
Для более детального анализа сравниваются результаты работы специализированного ПО и возможности систем виртуализации Citrix и VMware, а также осуществляется проверка возможности переноса ПО вычислительных систем ФМС и автономного тренажера на ИТ-инфраструктуру АСИОПК с сохранением существующего функционала.
Во время работы комплекса виртуальных машин каждого из тренажеров средствами мониторинга системы виртуализации фиксируется нагрузка на выделенные для данных виртуальных машин ресурсы, средствами системы мониторинга System Center Operations Manager проводится оценка загрузки портов коммутаторов, к которым подключены используемый тонкий клиент и аппаратная часть сервера виртуализации.
Во время работы пользователей посредством тонких клиентов с комплексом виртуальных машин каждого из тренажеров должна проводиться оценка задержки передачи данных от клиента к виртуальной машине и от виртуальной машины к тонкому клиенту, а также качества изображения, количества кадров в секунду и времени задержки при использовании устройств ввода.
В соответствии с перечисленными задачами к составным частям ЦОД закрытого контура предъявляются следующие основные требования: 1) предоставление возможности эффективного взаимодействия проектируемых сетевых сервисов для организации работы специализированного ПО тренажеров, систем виртуальной реальности и вспомогательных систем; 2) предоставление возможности гибкого масштабирования информационной системы при наращивании ресурсов и изменении конфигурации системы; 3) обеспечение отказоустойчивости на уровне выхода из строя любого сервера, коммутационного узла, канала связи; 4) обеспечение отказоустойчивости на уровне выхода из строя одного накопителя данных в любом узле системы; 5) наличие надежной системы резервного копирования информационных БД и виртуальных серверов; 6) обеспечение оборудования ЦОД электричеством в течение 1520 минут после отключения общего электроснабжения; 7) возможность установки различных уровней доступа для индивидуальных пользователей или групп пользователей при работе с приложениями и ресурсами; 8) разбивка стендов и развертываемых тренажеров на соответствующие сетевые сегменты, возможно, виртуальные частные сети; 9) в серверном сегменте, кроме самих серверов, допускается нахождение только компьютеров администрирования и контроля, если таковые будут предусмотрены проектом закрытого контура; 10) обеспечение защиты локальной сети закрытого контура АСИОПК (а также виртуальных машин и сетей) от внешних сетевых угроз Интернета, а также от внутренних угроз открытого контура и организационными, и программными мерами.
Для реализации требований 1 и 2 система должна быть оснащена набором высокопроизводительных серверов, поддерживающих технологии виртуализации, а также соответствующим сетевым оборудованием.
Для реализации требований 35 система должна иметь возможность построения RAID-массивов для резервного хранения информации, а также оснащаться общим сетевым хранилищем.
Дополнительным решением может быть введение дублирующих элементов сетевого оборудования и соответствующих программных средств.
Для реализации требования 6 система должна быть оснащена источниками бесперебойного питания.
Для реализации требований 7 и 8 система поддерживает виртуализацию ресурсов, а также создание виртуальных частных сетей на уровне серверов и активного сетевого оборудования.
Для реализации требования 9 система должна быть оснащена рабочим местом администрирования, контроля комплекса, а также необходимым ПО, управляемым с данного рабочего места.
Для реализации требования 10 система должна включать антивирусную защиту, средства ограничения доступа в глобальные сети и внутренние процедуры восстановления работоспособности, а также административные меры контроля доступа в помещения.
Для повышения надежности и единообразия используемых аппаратных средств предпочтение должно быть отдано уже апробируемым и используемым в открытом контуре продуктам ведущих мировых компаний.
Прикладное ПО закрытого контура предназначено для осуществления следующих операций: управление виртуальной инфраструктурой серверов; создание резервных копий в случае возникновения критических ошибок и обеспечение возможности отката; контроль энергопитания и автоматического выключения оборудования в случае возникновения аварийных ситуаций; обеспечение антивирусной защиты и всего спектра внутренних и внешних угроз для ПО; оперативный мониторинг и отслеживание сетевой активности пользователей с целью контроля и предотвращения несанкционированных действий; обеспечение работоспособности сетевых служб, таких как Active Directory, DNS, DHCP; настройка и администрирование набора пользовательских сервисов и специализированного ПО.
Прикладное ПО серверов обработки информации представляет собой набор специализированных приложений системы управления тренировками, интеграции ПО, моделирования и визуализации объектов тренажеров и ФМС, а также для хранения БД и вспомогательной информации.
Высокопроизводительный вычислительный сервер предназначен для развертывания виртуальных серверов с задачами и сервисами, выдачи вычислительных мощностей для виртуальных машин отрабатываемых стендов и тренажеров.
Данный сервер должен обладать внутренним аппаратным RAID-контроллером, сетевым контроллером с несколькими портами по 1 Гбит/c и возможностью установки модулей до 10 Гбит/c, системой хранения данных, возможностью установки достаточных объемов оперативной памяти.
Высокопроизводительный графический сервер предназначен для развертывания виртуальных серверов с задачами и сервисами детализированной 3D-графики, выдачи вычислительных мощностей для виртуальных машин отрабатываемых стендов и тренажеров.
Сервер должен обладать достаточным объемом оперативной памяти и иметь в своем составе графические карты, позволяющие выделять ресурсы для создания виртуальных графических адаптеров со всеми возможностями физических адаптеров.
Система сетевого хранения должна обеспечивать хранение информации, образов виртуальных машин, подключаемых дисковых массивов к системам, БД с возможностями резервирования и создания любых конфигураций RAIDмассивов.
Для сетевого взаимодействия должны использоваться высокопроизводительные коммутаторы серверного сегмента, которые обеспечивают объединение компонент серверного сегмента, системы хранения и серверов и поддерживают большую скорость внутренней передачи.
Исходя из требований к производительности ПО тренажеров должны быть созданы соответствующие виртуальные машины.
Все образы виртуальных машин должны храниться в единой системе хранения данных для обеспечения централизованного доступа и удобства перемещения ВМ между серверами.
В качестве платформы виртуализации может выступать VMware vSphere или Citrix XenServer, которые на данный момент поддерживают технологию GRID Virtual GPU, но, так как в открытом контуре применяется ПО VMware vSphere, для сохранения унификации серверных кластеров и при положительных оценках системы виртуализации на специализированном ПО тренажеров и ФМС предпочтительнее выбор системы VMware vSphere.
При развертывании системы виртуализации серверных мощностей в VMware vCenter должны быть созданы кластеры и включены службы HA и DRS, обеспечивающие миграцию работающих виртуальных машин в случае отказа и для распределения равномерной нагрузки на серверы.
Специализированный протокол обмена системы виртуализации PCoIP определяет низкие требования к пропускной способности сетевых каналов обмена между набором тонких клиентов на тренажерах и ФМС и единым вычислительным комплексом УТМК.
При этом используется компрессированный поток реального времени для видеоданных и трафика USB устройств в виде IPпакетов для передачи на конечное устройство отображения информации только об изменившихся пикселях изображения.
Для этого должны применяться тонкие клиенты на рабочих местах АСИОПК закрытого контура.
Следует отметить, что при работе с технологией VDI и результатами удаленных графических расчетов, а также при использовании системы виртуализации VMware желательно использование клиентов, поддерживающих на аппаратном уровне протокол PCoIP, например Wyse P25 или P45.
