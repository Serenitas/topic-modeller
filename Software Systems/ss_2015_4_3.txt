
В последние годы широкое распространение получили технологии серверной виртуализации.
Они на практике доказали свою эффективность, обеспечили повышенную отказоустойчивость и позволили уменьшить затраты предприятия на аппаратное обеспечение и электроэнергию благодаря консолидации вычислительных ресурсов и средств хранения данных.
Кроме того, данные технологии позволили снизить требования к системе охлаждения и сократить площадь помещения серверной.
Все это уменьшает совокупную стоимость владения ИТ-инфраструктурой за счет эффективного использования технических средств, например, перераспределения нагрузок для оптимального решения бизнес-задач, а также за счет сокращения расходов на администрирование и повышения качества оказываемых ИТ-услуг.Однако первоначальные затраты на создание  могут быть очень большими.
Следующим направлением развития технологий виртуализации стала виртуализация рабочих станций, позволившая получить преимущества серверной виртуализации при организации рабочих мест пользователей.
В результате развития данного направления ведущие вендоры предоставили возможность виртуализации графических ускорителей, что позволило использовать различные системы автоматизированного проектирования и трехмерного моделирования в виртуальных средах [1].
Бурное развитие информационных технологий и повышение требований к качеству ИТ-услуг обусловили потребность в модернизации  и создании корпоративного ЦОД Центра тренажеростроения и подготовки персонала.
На предприятии осуществляются исследования, разработка, производство и научно-техническое сопровождение эксплуатации технических средств и систем подготовки операторов к управлению сложными динамическими объектами.
Второй этап модернизация программно-аппаратного комплекса космоцентра Астрон имени космонавта Г.С.
Шонина на технических средствах ЦОД [2, 3].
Аппаратной основой ЦОД стало оборудование фирмы DELL: серверы DELL PowerEdge R520 и R720 с графическими ускорителями NVIDIA GRID K2, система хранения данных DELL PowerVault MD3200i, управляемые коммутаторы DELL PowerConnect 6224 и 6248, источники бесперебойного питания APC SmartUPS 3000.
Приведем основные программные компоненты инфраструктуры виртуализации.
VMWare vSphere платформа виртуализации, в которую входит множество элементов, таких как гипервизоры, система управления ресурсами, центр управления, средства обеспечения отказоустойчивости [46].
Обеспечивает функционирование набора виртуальных машин и управление ими, в том числе автоматизированное.
VMWare Horizon View программный комплекс, обеспечивающий функционирование инфраструктуры виртуальных рабочих станций [7, 8].
Выступает в роли посредника при подключении к виртуальной машине.
В его задачи входят создание групп виртуальных машин, управление пользователями и машинами, назначение политик, контроль состояния инфраструктуры.
Совместно с VMWare vSphere образует целостную среду.
Citrix XenDesktop альтернативная платформа инфраструктуры виртуальных рабочих станций.
Широко распространена, отличается большим функционалом, гибкими настройками, нетребовательностью к каналам связи.
Компания Citrix первая предложила пользователям технологии виртуализации графических адаптеров.
Обеспечение антивирусной защиты в виртуальной среде имеет особенности, связанные с архитектурой виртуальной платформы.
Использование стандартного антивируса на множестве виртуальных машин влечет за собой снижение производительности и увеличение объема работ, связанных с управлением защитой.
Ведущие производители антивирусных продуктов подготовили специальные решения для виртуальных сред.
Платформа VMware vSphere имеет в своем составе специальный компонент vShield, благодаря которому программа-агент на виртуальной машине не требуется, поэтому для vSphere выпущены специальные версии антивирусов.
Система резервного питания основана на ИБП APC Smart-UPS 3000, оборудованных сетевыми адаптерами.
Благодаря интеграции с vSphere обеспечивается автоматическое управление питанием в случае нештатных ситуаций.
Структурная схема ЦОД изображена на рисунке 1.
В процессе реализации проекта были успешно решены следующие задачи: создана платформа, позволяющая предоставлять необходимые вычислительные ресурсы разработчикам и обеспечивающая функционирование сетевых служб и пользовательских сервисов Центра тренажеростроения: корпоративный почтовый сервис, личные хранилища пользовательской информации, сервис обмена сообщениями между пользователями, сервис системы видеонаблюдения; обеспечена отказоустойчивость как на уровне выхода из строя отдельных аппаратных узлов, так и на уровне программных компонентов, таких как СУБД; обеспечены создание резервных копий и возможности восстановления в случае возникновения критических ошибок; осуществляются автоматический контроль электропитания и автоматическое выключение оборудования в случае возникновения аварийных ситуаций; обеспечена антивирусная защита виртуальной среды; осуществляется автоматизированное управление ресурсами; обеспечена возможность масштабирования системы при возникновении потребности в дополнительных мощностях.
Работоспособность комплекса подтверждена во время эксплуатации и дополнительного тестирования.
По завершении работ первого этапа была спроектирована и внедрена схема модернизации программно-аппаратного комплекса образовательного космоцентра Астрон, для чего были подробно проанализированы его организационная структура и перспективы применения средств ЦОД, рассмотрены требования к сопровождающим системам космоцентра.
Были рассмотрены основные концепции технологии виртуализации рабочих станций, произведен анализ различных систем управления виртуальной инфраструктурой и разработана схема интеграции такой системы в сеть ЦОД.
В качестве сопровождающих систем космоцентра использованы система видео-конференц-связи Openmeetings, система дистанционного обучения Moodle, галерея Resourcespace, система видеонаблюдения Macroscop, система голосовой связи TeamSpeak.
Управление виртуальной инфраструктурой организовано средствами ПО VMWare Horizon View.
Помимо этого, проведено тестирование альтернативной платформы Citrix XenDesktop, оба решения показали свою высокую эффективность.
Для обеспечения функционирования данных подсистем использованы ОС Microsoft Windows [9].
Решение Citrix обладает широким функционалом и множеством гибких политик конфигурации, на его основе возможно создание больших распределенных сред.
Отличается эффективным протоколом доставки рабочих столов работа с трехмерной графикой возможна даже через Интернет с шириной канала 2 Мбит/с.
Однако решение от VMWare показало лучшую производительность и отзывчивость при работе с тренажерами.
Модернизация космоцентра проводилась с целью решения ряда проблем: необходимость выделения больших площадей под технологические стойки для каждого объекта космоцентра; невозможность обеспечения мобильности пользователей космоцентра; большая трудоемкость в обслуживании инфраструктуры; повышенное энергопотребление и шумовой фон в помещении.
Структура модернизированного космоцентра представлена на рисунке 2.
Появление технологий виртуализации графических адаптеров сделало возможным перенос тренажерных комплексов в виртуальную среду, обеспечивая тем самым возможность создания интегрированного УТМК нового поколения [2, 10].
При этом в силу новизны технологии, ее малой распространенности и нестандартной сферы применения должны быть сделаны соответствующие корректировки при проектировании виртуальной среды.
ВМ также может быть закреплена за конкретным оператором.
Особенность такой конфигурации в том, что ВМ генерируется на основе базового образа, а все пользовательские данные сохраняются на дельта-диске.
Такой подход позволяет значительно экономить дисковое пространство.
При другом подходе на основе единого образа полностью сконфигурированной ВМ создаются полноценные копии, при этом для создания любого количества типовых рабочих мест выполняется минимум административных действий.
Однако в случае с тренажерами эти подходы неприменимы, поскольку каждая ВМ имеет различные задачи и требует разного набора ПО.
Кроме того, имеются технические ограничения на реализацию данных подходов в связи с виртуализацией графических адаптеров.
Единственная возможность автоматизации создание базового образа, на основе которого создаются машины тренажеров и в дальнейшем происходят корректировка параметров ВМ, установка и настройка ПО тренажеров.
Таким образом, использование виртуализации в тренажерах не позволяет в полной мере применять автоматизированное управление.
Ограничением также является невозможность миграции ВМ во время исполнения, что уменьшает гибкость управления ресурсами и ограничивает возможности обеспечения отказоустойчивости.
Технологии графической виртуализации нацелены прежде всего на организацию рабочих мест пользователей систем автоматизированного проектирования и трехмерного моделирования, однако в силу различий в рабочих нагрузках рекомендации по распределению ресурсов для таких сред почти неактуальны при создании тренажеров [8].
Требуемые характеристики ВМ тренажеров были определены экспериментально, и, таким образом, было выработано несколько типовых конфигураций для различных компонентов тренажерных комплексов.
Так, для тренажеров виртуальной реальности, таких как Виртуальная МКС, Научные Эксперименты, оптимальным оказалось выделение профиля графического процессора GRID K240Q, 6 Гб оперативной памяти и 4 ядер ЦП.
Для тренажеров ТМА, МЛМ достаточными являются профиль графического процессора GRID K220Q, 4 Гб оперативной памяти и 2 ядра ЦП.
Помимо этого, потребовалась корректировка параметров протокола доступа к виртуальной рабочей станции.
Интегрированный УТМК создавался с использованием существующих версий ПО тренажеров, при этом были получены хорошие результаты, однако модернизация ПО с ориентацией на виртуализацию позволит оптимизировать потребление ресурсов и повысить эффективность внедрения.
Таким образом, по результатам внедрения и опытной эксплуатации можно говорить об успешной отработке принципов интегрированного УТМК.
Применение технологий виртуализации в сфере создания тренажерных комплексов оправданно, они могут использоваться при проектировании решений для заказчиков.
В отличие от ранее принятого подхода к проектированию автоматического пилотируемого корабля [3, 4], приоритет в котором отдается автоматике, а человек осуществляет функции контроля автоматических режимов и выполнения резервных режимов управления, в процессе проектирования ПТК и его составных частей предлагаются итеративное создание и экспериментальная отработка интерфейса экипажа с ПТК, обеспечивающего космонавту активное участие в контроле и управлении кораблем.
Объект испытаний интерфейс экипажа с ПТК, включающий экспериментальные и опытные образцы ОУ и СОИ, а также информационная модель систем ПТК в виде набора дисплейных форматов для контроля и управления кораблем.
Программно-аппаратное обеспечение дает возможность подготовки вариантов информационного обеспечения экипажа ПТК с использованием системы разработки информационной модели систем ПТК и экспериментальной отработки интерфейсов экипажа при моделировании вариантов информационного обеспечения ПТК в полноразмерном макете  корабля.
Система разработки информационных интерфейсов экипажа обеспечивает создание вариантов дисплейных форматов для представления данных о процессах управления, состоянии и работе бортовых систем, а также о внешней обстановке с целью экспериментальной отработки и эргономической оценки ОУ и СОИ: интерактивное создание и изменение информационных кадров с помощью программного пакета разработки; создание и пополнение библиотеки графических образов для создания мнемосхем и других элементов информационных кадров; настройку связей отображаемой информации с моделями систем и параметрами моделируемых процессов; интерактивную настройку параметров информационных моделей; отладку информационных интерфейсов экипажа.
Интерьер макета КО представлен на рисунке 3.
Макеты кресел позволяют отрабатывать деятельность экипажа на двух основных рабочих местах РМЭ1, РМЭ2.
Пульт космонавта установлен на поворотной раме, которая с помощью механизма может принимать два положения: рабочее и транспортное.
На раме размещены три цветных жидкокристаллических сенсорных дисплея с накладными рамками для физической имитации кнопок, расположенных по периферии экрана и обеспечивающих выбор форматов, отображаемых в центральной области экрана.
Каждый монитор пульта космонавта подключен к соответствующему макету процессорного блока отображения информации, представляющего собой мини-компьютер, обеспечивающий формирование изображения на экране и интерфейс с моделирующей системой.
Это обеспечивает три независимых канала управления системами ПТК, ввод команд, мониторинг работы систем и управление отдельными приборами и устройствами с пульта космонавтов.
РУДО обеспечивает на стенде ручное управление двумя членами экипажа с левого РМЭ и при необходимости с правого РМЭ .
РУДО через специализированный преобразователь сигналов, как и мини-компьютеры пульта космонавтов, подсоединены к локальной вычислительной сети стенда ПТК.
Это позволяет всем составным компонентам системы обмениваться данными в процессе работы и моделирования.
Беспроводная технологическая связь обеспечивает имитацию системы связи для внутренних переговоров между двумя членами экипажа и взаимодействия с наземными операторами связи.
Комфортные условия работы в командном отсеке обеспечиваются набором вытяжных вентиляторов и светильниками.
Контроль  за действиями экипажа с целью оценки их выполнения ведется на РМ-ИО в реальном времени с помощью отдельной IP-камеры.
РМ-ИО оснащено монитором большой диагонали, на котором отображаются состояние каждого из сенсорных мониторов пульта космонавтов, вспомогательная информация о ходе отработки интерфейсов и изображение IP-камеры также для отслеживания выполнения и отработки интерфейсов.
Помимо наблюдения, исследователь-оператор может вмешиваться в процесс управления и при необходимости вызывать форматы и управлять системами ПТК: выдавать команды управления, работать с информационными кадрами и форматами, изменять конфигурацию форматов на РМЭ.
Загрузка системного и прикладного ПО осуществляется на следующих компонентах стенда: АРМ разработчика после включения загружаются ОС Windows и среда разработки информационных интерфейсов экипажа; АРМ исследователяоператора после включения загружаются ОС Windows и системное ПО для выполнения операций захвата экранов пульта космонавтов Lite Manager и организации технологической связи Team Speak, ПО работы с IP-камерой командного отсека ПТК, а также прикладное ПО управления работой стенда; мини-компьютеры, обеспечивающие вывод информации на пульт космонавтов, после включения загружаются ОС Windows, системное ПО организации технологической связи Team Speak и прикладное ПО отображения форматов Master SCADA [5].
Специализированное ПО формирования моделей и форматов, отображаемых на пульте космонавта, представлено программным продуктом Master SCADA программным пакетом для проектирования систем диспетчерского управления и сбора данных.
Основными свойствами являются модульность, масштабируемость и объектный подход к разработке.
Система предназначена для сбора, архивирования, отображения данных, а также для управления различными технологическими процессами.
Помимо создания так называемого верхнего уровня, система дает возможность программировать контроллеры с открытой архитектурой.
Таким образом, Master SCADA позволяет создавать единый комплексный проект автоматизации [6, 7].
Функционал MasterSCADA может быть расширен за счет использования дополнительных модулей.
В базовый функционал входят среда разработки, внутренний архив данных, сообщений и документов, OPC DAи OPC HDA-клиенты, редактор мнемосхем, редактор отчетов, модуль трендов и модуль журналов, обработка данных, базовые библиотеки функциональных блоков, формирование расписаний и событий.
В опциональный набор входят возможность создания сетевого проекта, резервирование, взаимодействие с БД, отраслевые библиотеки функциональных блоков.
Проект разрабатывается в единой интегрированной среде .
Основным способом создания структуры проекта является установление связей между элементами проекта  в дереве объектов.
При дублировании и копировании связи могут восстанавливаться.
Использование MasterSCADA как средства проектирования отработки интерфейсов экипажа обусловлено тем, что применяемое ПО позволяет относительно просто создавать и изменять сценарии моделирования.
Для разработки модели системы ПТК используется многофункциональный графический редактор, позволяющий строить мнемосхемы различной сложности с помощью как готовых визуальных элементов из библиотеки, так и новых элементов, создаваемых разработчиком.
Логика работы любой системы описывается специализированным скриптом, работа которого обеспечивает моделирование числовых параметров и последующее отображение изменения состояния функциональных блоков на мнемосхемах системы.
Такое разделение и наличие достаточно простого пользовательского редактора позволяет при необходимости дорабатывать и изменять получаемые визуальные представления дисплейных форматов в процессе отработки различных эргономических характеристик.
Режим захвата экранов пульта космонавтов обеспечивает программный продукт Lite Manager Free, который обладает основными функциями и позволяет одновременно управлять несколькими компьютерами  [8].
Преимущества продукта: управление и просмотр удаленного рабочего стола компьютера Remote Desktop, файловый менеджер для работы с файлами и папками, управление питанием компьютера.
LiteManager предоставляет понятный и простой интерфейс для удаленного администрирования.
Компьютеры могут отображаться в виде эскизов, на которых видно их текущее состояние.
После автозагрузки ПО и завершения процесса включения стенда выбираются эскизы в главном окне программы удаленных рабочих столов мини-компьютеров пульта космонавтов и выполняется команда их вывода на общий монитор для наблюдения действия и удаленного управления.
ПО Lite Manager может быть настроено на дублирование экранов как в 100 %-ном, так и в уменьшенном или увеличенном масштабе.
Специализированное ПО технологической связи Team Speak программа, предназначенная для голосового общения посредством технологии VoIP [9].
От классического телефона отличается практически неограниченным количеством абонентов, разговаривающих одновременно.
ПО состоит из серверной и клиентских частей .
Для того чтобы пользоваться Team Speak, необходимо знать адрес сервера, на котором установлена серверная часть программы, и пароль, если он требуется для соединения.
Для полноценной работы с Team Speak пользователю требуются наушники или колонки и микрофон в данном случаем используются беспроводные гарнитуры Logitech Wireless Headset Mono H820e.
Процесс общения представляет собой конференцию в реальном времени, в которой разговаривающие могут произносить реплики одновременно.
Во избежание этого каждый участник может заблокировать лично для себя звук от другого участника.
Возможен режим записи всех сообщений в отдельный аудиофайл.
Выбор данного ПО обусловлен тем, что оно полностью реализует все требуемые задачи по созданию циркуляров голосовой связи и отображению дублей экранов пульта космонавта, а также по оперативному изменению параметров и настройке приложений для новых задач на РМ-ИО.
Корпус макета ПТК выполнен из сборно-разборного основания с установленными на нем шестью модулями наружной обшивки.
Конструкция основания и наружные обводы корпуса выполнены из алюминиевых тонкостенных прессованных профилей и листового алюминия.
На основании макета, кроме ограждающей конструкции, установлены все элементы интерьера: каркасы кресел, кресла, конструкции механизма пульта космонавтов и другие.
Они не связаны с конструкцией ограждения, что позволяет в процессе компоновки, монтажа и отработки эргономических характеристик оперативно удалять любой из модулей ограждения, не внося радикальных изменений в конструкцию интерьера КО, оперативно вносить изменения в компоновку интерьера без существенной переделки всей конструкции макета.
Это дает возможность эргономической оценки компоновки рабочих мест космонавтов в КО ПТК и своевременного внесения изменений в конструкцию пульта на этапе выпуска рабочей документации.
Модульное построение макета КО ПТК позволяет вносить изменения в конструкцию макета на стадиях проектно-конструкторской проработки ПТК по результатам эргономической оценки рабочих мест экипажа.
В итоге экспериментальной отработки интерфейсов экипажа с кораблем вносятся корректировки в проект ПТК.
Представленный стенд эргономической отработки ПТК рассматривается в качестве пилотажного средства, обеспечивающего эффективное взаимодействие экипажа с высокоавтоматизированным космическим кораблем на разных уровнях: контроль и управление отдельными системами, выполнение полетных операций, контроль и оперативное изменение полетных задач и программы полета в целом.
СЭО ПТК должен обеспечить решение этой задачи на базе РКК Энергия с использованием новых программных, технических, конструктивных и технологических решений.
