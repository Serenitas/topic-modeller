: 621.735.
САПР  технологических процессов (ТП) ковки различных видов поковок на молотах и прессах [13] дают возможность пользователям вносить корректировки в результаты проектирования, полученные в автоматическом режиме.
Результаты проектирования заносятся в карту ТП ковки и взаимосвязаны между собой.
Корректировка любого из них, как правило, требует повторного перепроектирования всего ТП с учетом внесенных ранее корректировок.
То есть речь идет об управлении пользователем процессом проектирования.
В данной статье рассматриваются принципиальные вопросы управления САПР ТП ковки на примере ковки валов на прессах, связанные с организацией активного диалога пользователя с системой.
Концептуальная схема управления САПР ТП ковки представлена на рисунке 1.
Объектом управления является процесс проектирования технологии ковки, который всегда происходит в определенных производственных условиях, то есть в конкретной среде проектирования.
В качестве модели объекта управления выступает карта ТП ковки, отражающая все особенности спроектированного ТП и являющаяся одним из возможных решений поставленной задачи.
Цель управления объектом состоит в получении технологии изготовления качественной поковки с минимальными материальными и энергетическими затратами.
Если цель не достигается, необходимо произвести корректировку решения, реализуя некоторое управляющее воздействие  на модель объекта управления .
Это воздействие выбирается пользователем на основе физических представлений о предметной области, моделей среды и объекта управления и передается  в блок принятия решений, который реализован пакетом контролирующих программ САПР ТП ковки.
Воздействие может быть оказано и на модель среды  с последующей передачей его в блок принятия решений .
Однако это происходит достаточно редко и, как правило, на стадии настройки системы на конкретные производственные условия или в случае обнаружения ошибок в базе НСИ.
Задача блока принятия решений состоит в проверке оказанного воздействия на корректность в двух аспектах.
Во-первых, необходимо выполнить проверку на синтаксис, когда воздействие представляет собой значение, набранное пользователем, а не выбранное из предложенного системой списка.
Во-вторых, требуется проверить воздействие на попадание в соответствующий ему доверительный интервал своих значений.
Под доверительным интервалом здесь понимаются границы значений, в которых должно находиться каждое воздействие в соответствии с технологическими инструкциями на проектирование.
В противном случае воздействие отвергается .
При этом, если последнее воздействие в процессе перепроектирования не вступает в противоречие с воздействиями, оказанными ранее, оно признается технологичным и модель объекта управления переводится в новое состояние.
Пользователь может оценить это, наблюдая модель объекта управления и сравнивая ее с целью проектирования.
Результат такого наблюдения и сравнения инициирует либо новые воздействия на модель объекта управления в случае, когда цель не достигается, либо завершение работы в случае, когда цель достигнута.
Если последнее воздействие при всей совокупности предыдущих воздействий не позволяет спроектировать модель объекта управления, в данный момент оно признается нетехнологичным и здесь возможны варианты для принятия дальнейших решений.
В первом варианте, опираясь на то, что система не имеет права самостоятельно исключать уже принятые технологичные воздействия пользователя, последнее воздействие следует отвергнуть.
Однако у этого варианта есть существенный недостаток: если последнее отвергнутое воздействие с точки зрения пользователя является более важным по сравнению с предыдущими, для его реализации пользователю самому придется последовательно исключать все предыдущие воздействия и каждый раз пытаться перепроектировать ТП с этим новым воздействием, что не вполне логично.
Поясним это на примере.
На рисунке 2 приведена упрощенная типовая схема последовательности основных операций ковки валов на прессе.
Все технологические операции ковки можно условно разбить на две группы: подготовительные  и основные .
К основным операции, во время которых непосредственно формируется конечная поковка .
Как известно, выбор слитка является определяющим этапом проектирования ТП, от которого зависят практически все параметры модели объекта управления, и его замена действие гораздо более значимое по сравнению с определением размеров заготовок по операциям.
В этом случае нелогично предлагать пользователю самому исключать уже оказанные воздействия на размеры и.
Правильнее будет при возникновении противоречий автоматически исключать менее значимые воздействия, но для этого требуются разработка системы классификации множества возможных воздействий и определение статуса  каждого воздействия.
В этом заключается суть логики управления САПР ТП ковки валов на прессах.
Основная идея, озвученная в работе [4], заключается в подмене сложной математической модели реального процесса на логико-лингвистическую модель управления данным процессом.
В рамках данного подхода предполагается использовать опыт пользователя, управляющего этим процессом.
Стратегия управления, используемая пользователем, по существу является набором правил, которые может выполнить человек, но трудно формализовать, используя обычные алгоритмы.
Отметим, что каждое воздействие пользователя может представлять собой только одно из трех событий: А: изменить параметр ; В: зафиксировать параметр ;  С: отменить ранее оказанное воздействие на параметр.
При описании логики управления САПР ТП ковки валов удобно использовать аппарат математической логики, основным понятием которой является понятие простые и сложные высказывания, каждое из которых может быть либо истинным, либо ложным.
 Выражения  интерпретируются соответственно следующим образом: некорректно отвергается; корректно и решение получено принимается; корректно и решение не получено исключаются менее значимые воздействия, , , и принимается.
В последнем случае информация об оставшихся воздействиях передается в блок реализации решений и проектирование выполняется заново.
Очевидно, что при наступлении событий В или С  всегда справедливо соотношение .
Относительная значимость каждого воздействия на соответствующий ему корректируемый параметр устанавливается на основе физических представлений о предметной области.
Взаимосвязь относительной значимости воздействий на корректируемые параметры в выражении  схематично отражена на рисунке 3.
Как видно из рисунка 3, относительная значимость воздействий уменьшается слева направо  в порядке, соответствующем последовательности решения задач проектирования ТП.
Параметры осаженного слитка и, как и протянутой цилиндрической заготовки и, взаимосвязаны через условие постоянства объема, и поэтому корректировка одного из них влечет за собой однозначное изменение другого.
Параметры цапфы и между собой непосредственно не связаны, и корректировка любого из них влияет только на размер излишка и обрубка.
Рассмотренный пример не отражает всей сложности взаимосвязей корректируемых параметров и воздействий, оказываемых на них, и в одной статье нет возможности охватить все множество корректируемых параметров, поэтому в дальнейшем ограничимся описанием наиболее важных параметров, которые так или иначе связаны с геометрией заготовок по операциям.
В общем случае все корректируемые параметры проектирования в САПР ТП ковки валов на прессах и предусмотренные воздействия на них разбиты на четыре группы по уровням значимости.
Рядом с названием корректируемых параметров на рисунке 4 в скобках указано обозначение соответствующих воздействий на эти параметры.
Верхний индекс при обозначает групповой уровень значимости воздействия.
Стрелки отражают взаимовлияние корректируемых параметров.
Генеральное воздействие предусматривает замену выбранного слитка и обладает наибольшей относительной значимостью.
Последнее выражение интерпретируется следующим образом.
Если воздействие корректно, то есть выбранный на замену слиток соответствует весу исходной поковки, и решение не получено, то все оказанные ранее менее значимые воздействия отвергаются, воздействие принимается, после чего проектирование выполняется заново.
В состав глобальных параметров входят минимальный общий уков, количество переходов, форма биллета и осадка биллета.
Минимальный общий уков это минимально допустимая степень деформации поковки за весь процесс ковки.
Рекомендации по расчету общего укова и определению его минимального значения приведены в работах [5, 6].
Переходом при ковке на прессах называют группу кузнечных операций, выполняемых за один нагрев .
Например, на рисунке 2 к первому переходу относится операция I.1, ко второму операции II.1 и II.2, к третьему операции III.1 и III.2, в последнем переходе осуществляется окончательная ковка.
К каждому переходу предъявляются определенные технологические требования, связанные в основном с минимальными уковами за переход.
Естественно, чем больше количество переходов, тем больший размер должна иметь исходная заготовка.
Глобальные воздействия, , , обладают одинаковой относительной значимостью в том смысле, что ни одно глобальное воздействие не может отменить другое, при этом любое глобальное воздействие может привести к замене незафиксированного слитка.
Первое выражение интерпретируется аналогично выражению для генерального воздействия, второе говорит о том, что если после исключения менее значимых воздействий решение получить не удается, воздействие отвергается.
Локальное воздействие всегда находится в рамках, которые определяются значениями более значимых параметров.
Индивидуальные параметры представляют собой данные, воздействия на которые не требуют перепроектирования ТП.
Такие воздействия аналогичны действиям пользователя посредством ластика и ручки, когда в отдельные фрагменты уже готовой карты ТП  вносятся некоторые несущественные исправления.
Таким образом, САПР ТП ковки валов на прессах строится в древовидной форме с выделением точек  возможных воздействий пользователя.
После реализации автоматического режима проектирования пользователь анализирует полученную модель объекта управления и при необходимости последовательно вносит управляющие корректировки в результаты проектирования, которые обрабатываются системой в соответствии с изложенными принципами.
Рассмотренная схема управления САПР технологии ковки валов на прессах позволяет получать приемлемые решения даже при существенном изменении условий производства, что значительно упрощает ее внедрение на предприятиях.
