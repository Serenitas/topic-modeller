:621.37/39.
Под  акустооптическим процессором (АОП)  понимается устройство радиотехнического назначения, в котором основная роль по обработке радиосигнала отводится оптической части, где опорный световой пучок лазера, взаимодействуя с акустическим аналогом сигнала, формирует в плоскости анализа спектральное пространственное распределение.
В этой плоскости устанавливается многоэлементный фотоприемник, с выхода которого снимается дискретизованное распределение световой интенсивности.
В последующих цепях  оцифровывается и подвергается дальнейшей обработке частично на борту АОП, частично во внешней вычислительной системе, например, на персональном компьютере.
С примерами реализации подобных устройств можно ознакомиться в [14].
Принцип действия АОИЧ основан на использовании имеющего место соответствия между частотой подаваемого на его вход радиосигнала и пространственным положением на фотоприемнике продифрагировавшего в дефлекторе АОИЧ светового сигнала.
Ценное для практического использования свойство АОИЧ состоит в том, что существуют такие частоты входного сигнала, которые взаимно-однозначно соответствуют пространственным положениям серединфотодиодов.
Оно проявляется в том, что при подаче на вход АОИЧ сигнала с частотой в точке .
При симметричной форме РИСС максимум светового сигнала расположен на его оси симметрии.
Частоты, соответствующиечастот.
Эти частоты называют частотами точной настройки фотодиодов, а их упорядоченную последовательность  АОИЧ.
Рассмотрим кратко алгоритмы решения подобных задач [5].
Первый из них применяется в линейном режиме работы фотоприемника и производит оценку частоты как абсциссы точки пересечения двух прямых.
Абсциссы точек A, B, C, D соответствуют частотам точной настройки ФД фотоприемника, а ординаты этих точек равны уровням сигналов на ФД.
Частотный интервал между абсциссами точек B и A, A и C, C и D одинаков; BACD аппроксимация РИСС линейно-ломаной.
Считается, что РИСС, формируемые на фотоприемнике, симметричны относительно оси F.
Абсцисса этой оси равна частоте сигнала.
Для удобства рассмотрения примем равной нулю.
Найдем абсциссу точки пересечения прямых BА и DС.
Следующий алгоритм подходит как для линейного режима, так и для режима насыщения фотоприемника.
На рисунке 2 в координатах частотауровень показаны РИСС на ФД в режиме ограничения .
Частотный интервал RS соответствует насыщению, регистрируемому ФД.
Частотный интервал между ФД одинаков и равен.
На выходах ФД в интервале RS, находящихся в насыщении, сигнал максимален .
Считается, что РИСС симметрично относительно оси ; его абсцисса равна частоте, которую, как и прежде, примем равной нулю.
Идея метода вычисления частоты состоит в определении положения на оси частот абсцисс точек C и G .
 Будем полагать также, что частота известна, а точка G лежит на прямой АВ.
 Отметим, что описанная методика вычисления частоты справедлива и для гауссового, и для негауссового РИСС.
При использовании в АОИЧ описанных алгоритмов [5] можно существенно снизить погрешность измерения частоты по сравнению с простейшим случаем, когда в РИСС определяются номера первого и последнего ФД из группы засвеченных, которая задается соотношением,  где нижняя граничная частота полосы пропускания АОИЧ; число ФД в ПЗС-фотолинейке [7].
Хотя погрешность единичного измерения данного простого алгоритма составляет половину частотной дискреты, этот способ также имеет право на существование, когда РИСС близко к симметричному и требуется повышенное быстродействие.
Коснемся методик снижения инструментальных погрешностей, связанных с нелинейностью кривой настройки [8].
В качестве фотоприемников в современных АОИЧ используют линейки ПЗС [1, 2], фотодиодные линейки [1, 3] и матрицы.
Во всех этих устройствах фотодиоды распределены эквидистантно по пространственной координате  фотоприемника.
Нелинейность кривой настройки проявляется в том, что частотные интервалы между частотами настройки соседних ФД различны на различных участках частотного диапазона приемника-частотомера.
Различия не учитываются в формулах вычисления частот настройки ФД, поскольку эти формулы по умолчанию линейны.
В результате частоты настройки ФД определяются с погрешностями и, как следствие, частота сигнала, в формулах вычисления которой используются частоты настройки ФД, тоже вычисляется с погрешностью.
Нелинейность реальной КН в АОИЧ, как показывает анализ, объясняется следующими основными причинами.
1.
Данный вид нелинейности проявляется тем больше, чем шире полоса частот измерителя.
2.
При этом погрешность Фурье-преобразования [9] увеличивается с ростом и.
3.
Погрешности, связанные с неэквидистантностью расположения диодов в фотолинейках и матрицах, неоднородностью распределения чувствительности как отдельных ФД, так и по поверхности их фотоплощадок.
4.
Погрешности, связанные с конечной шириной линии излучения лазерного  источника, асимметрией ее формы, а также с наличием в спектре излучения паразитных составляющих, уровень которых, как правило, изготовителями не регламентируется.
Существуют два способа устранения или уменьшения рассматриваемой инструментальной погрешности, связанной с нелинейностью КН.
Это линеаризация существующей КН аппаратурными средствами и замена реальной КН некой приближенной  КН.
Рассмотрение первого способа выходит за рамки настоящей статьи, а второй может быть реализован алгоритмически.
Суть алгоритмического способа сводится к следующему: измеряют реальную КН ФД АОПЧ, при этом номера ФД, для которых измеряют частоты точной настройки, выбирают с некоторым шагом, в общем случае неравномерным; аппроксимируют реальную КН подходящей математической зависимостью и в результате получают приближенную  КН; используют полученную КН для вычисления приближенной частоты настройки любого ФД фотоприемника; приближенные частоты настройки ФД используют в алгоритмах вычисления частоты сигнала.
Эффективность изложенного алгоритмического способа уменьшения инструментальной погрешности в случае аппроксимации КН степенным полиномом [10] по методу наименьших квадратов была проверена экспериментально [8] на макете АОИЧ, описанном в работе [2].
Суть метода сводится к следующему.
Вся кривая настройки в диапазоне частот АОИЧ равномерно разбивается узлами аппроксимации (например, опорными сигналами) на  участок.
Очевидно, что в узлах погрешность нулевая.
Для каждогоФД).
Интервалы по частотной оси между соседними узлами аппроксимации могут быть неодинаковыми.
Они могут выбираться так, чтобы в пределахпогрешностью.
После линеаризации всех участков кривой настройки частотные интервалы между соседними ФД считаются постоянными, а значит, в пределахчастот.
Очевидно, что точность измерения частоты в рассматриваемом случае выше, поскольку в результатах измерений снижены погрешности, связанные с нелинейностью кривой настройки.
Расчетный график погрешностей стремится к нулю при устремлении к бесконечности.
Рассмотрим теперь разработанное приложение для управления АОИЧ, его калибровки, вычисления частоты, в том числе и с учетом описанных выше алгоритмов, а также выполнения различных сервисных функций.
Окно приложения приведено на рисунке 3.
Основную площадь окна занимает графическая область, в которой в режиме реального времени отображаются цифровые РИСС, являющиеся аналогом спектра обрабатываемого радиосигнала.
Вертикальная  ось графика представлена значениями 12-разрядного кода аналого-цифрового преобразования сигнала с фотоприемника.
Горизонтальная шкала отображает значения частоты .
В области графика имеются также два маркера для проведения наблюдений и измерений в ручном режиме.
Значения частотного положения маркеров отображаются в правом верхнем углу графика с точностью 0,1 МГц.
Обеспечены также масштабирование и панорамирование графика при помощи компьютерной мыши.
В правой части приложения располагаются элементы управления, для удобства разбитые на группы.
Рассмотрим их подробнее.
Группа calibrate позволяет, во-первых, реализовать алгоритм компенсации темнового фона, вызванного в основном засветкой фотоприемника рассеянным в оптических элементах АОИЧ светом, а во-вторых, нейтрализовать смещение частотной шкалы при помощи бигармонического сигнала от внешнего либо внутреннего источника.
Частотное смещение обусловлено в основном температурной зависимостью длины волны полупроводникового лазера и механическими деформациями конструктивных элементов оптической системы.
Группа work обеспечивает прием и отображение спектрального распределения во всей полосе анализа в одиночном и циклическом режимах.
Переключатель calculate обеспечивает автоматическое измерение несущей частоты и амплитуды сигнала в максимуме распределения.
При помощи группы files можно сохранять текущее распределение в текстовый файл в виде векторастолбца и затем использовать его для независимого анализа в таких программных продуктах, как MathCAD, MatLab, Excel и др.
Имеется также возможность открытия и отображения на графике любого из ранее сохраненных распределений.
Группа threshold управляет горизонтальной линией порога по любому заданному уровню, а scale задает линейный либо логарифмический масштаб вертикальной оси графика, а также поддерживает его верхнюю границу плавающей в зависимости от амплитуды на максимуме текущего распределения.
AOP служит для управления USB контроллером АОП его подключением, отключением или сбросом в случае неполадок.
Также группа позволяет выбирать вид аппроксимации частотной шкалы: полином четвертой степени по методу наименьших квадратов Ordinary least squares  или ломаная Broken Line.
Кнопка Get RISS обеспечивает сбор необходимых для аппроксимации данных в виде 101 распределения во всей полосе частот и проведение соответствующих вычислений.
Наконец, группа generator обеспечивает по Ethernet-интерфейсу с использованием библиотеки Visa  доступ и управление лабораторным генератором СВЧ-сигналов, в качестве которого в нашем случае использован прибор E4428C компании Agilent Technologies [11].
Рассмотренный пример позволяет утверждать, что разработка ПО для АОП является важной задачей, расширяющей и в полной мере использующей функциональные возможности акустооптических измерителей.
