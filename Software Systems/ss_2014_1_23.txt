
С развитием современных субмикронных технологических процессов изготовления  перед проектировщиками встали новые проблемы, такие как увеличение задержек в соединениях, увеличение энергопотребления и температуры.
Они в свою очередь отрицательно влияют на надежность и работоспособность электронных устройств.
Схемы трехмерной интеграции это попытка преодолеть ограничения плоских СБИС главным образом интеграцией нескольких слоев кристалла в монолитную структуру.
Выгода такого вертикального расширения СБИС включает лучшее использование площади чипа, уменьшение длины проводников и увеличение количества транзисторов на единицу площади, что приводит к росту быстродействия и энергоэффективности [1].
Высокая рассеиваемая мощность на единицу площади кристалла СБИС непосредственно влияет на его рабочую температуру, а следовательно, негативно сказывается на надежности КМОП-схем [2].
В настоящей работе приведены основные методы и алгоритмы, реализованные в подсистеме САПР планирования СБИС, решающей задачу размещения элементов  на плане СБИС трехмерной интеграции с учетом взаимного теплового влияния элементов.
Эта задача относится к классу NP-полных, а поскольку для ее решения нет алгоритма с полиномиальной вычислительной сложностью, предлагается использовать эволюционный алгоритм.
При размещении элементов необходимо минимизировать максимальную рабочую температуру устройства и общую длину межсоединений в слоях [3].
Задачу теплового размещения элементов в СБИС трехмерной компоновки сформулируем следующим образом.
Имеется множество слоев и множество элементов.
Для исходного плана определим его площадь и длину проводников.
Каждый элемент рассматривается как источник тепла и характеризуется значением удельной рассеиваемой мощности.
Для устранения перегрева элементов и снижения максимальной рабочей температуры устройства необходимо снизить их взаимное тепловое влияние друг на друга [4], то есть минимизировать рассеиваемую мощность на единицу площади.
Описанная задача относится к классу задач дискретной оптимизации.
Для определения значения необходимо построить тепловую модель СБИС, которая должна удовлетворять критериям быстродействия и точности решения, так как эволюционные алгоритмы планирования могут генерировать миллионы различных решений.
В схемах трехмерной интеграции такое дерево строится для каждого слоя схемы.
Для описания связи элементов, расположенных в разных слоях, можно использовать следующий подход.
Все слои плана разбиваются на ячейки дискретной сеткой.
Шаг сетки определяется в зависимости от размера элементов.
Эти значения отражают вертикальные отношения элементов на трехмерном плане схемы.
Они изменяют топологию плана только одного слоя.
Последние две операции предназначены для поиска решений в трехмерном топологическом пространстве.
Моделирование и анализ тепловыделяющих элементов СБИС опирается на классическую теорию теплопередачи с учетом ряда особенностей, специфических для интегральных схем, а именно: основными источниками высокой температуры являются электронные компоненты схемы, расположенные на плоскости слоя; компоненты всегда имеют прямоугольную конфигурацию.
Минус в правой части уравнения показывает, что тепловой поток направлен противоположно градиенту температуры .
Временны е константы процесса теплопередачи имеют порядок миллисекунд, что существенно больше интервалов тактирования в современных СБИС.
Если режим питания элемента СБИС остается неизменным в течение длительного времени и его распределение плотности мощности остается относительно постоянным, то достаточно анализа тепловых параметров схемы в установившемся режиме.
К настоящему времени существует несколько подходов к решению уравнения  для тепловых моделей СБИС.
К ним относятся метод конечных элементов [7] и метод конечных разностей [8], которые позволяют получить наиболее полную тепловую модель СБИС.
Существуют также методы на основе компактной резистивной модели [9] и методы на основе формулы в замкнутом виде [10].
Первые три метода относятся к классу сеточных методов приближенного решения краевых задач и обладают высокой вычислительной сложностью.
Метод на основе формулы в замкнутом виде имеет не только низкую вычислительную сложность, но и низкую точность [11].
Выражение  позволяет вычислить тепловую модель и определить точную температуру в каждой точке схемы, однако имеет большую вычислительную сложность.
Для промежуточной оценки максимальной температуры используем упрощенную тепловую модель, позволяющую дать приблизительную оценку теплового распределения, достаточную для целей задачи планирования.
Используя полученное выражение, можно определить температуру в любой точке коммутационного поля без решения дифференциального уравнения .
Наложим на исходный план сетку размером и пронумеруем ячейки сетки от 1 до.
Например, имеется план с размещенными на нем функциональными блоками A, B, C, D, E, F.
Для каждого функционального блока задана рассеиваемая мощность.
Разобьем исходный план на 20 ячеек.
Он относится к так называемым алгоритмам, инспирированным природными явлениями [12].
Генетический алгоритм представляет собой эвристический алгоритм поиска, используемый для решения задач оптимизации и моделирования путем последовательного подбора, комбинирования и вариации искомых параметров с использованием механизмов, напоминающих биологическую эволюцию.
Алгоритм имитации отжига это известный алгоритмический аналог физического процесса управляемого охлаждения, который использует упорядоченный случайный поиск новых состояний системы с более низкой температурой.
Комбинирование алгоритмов производится путем ввода в генетический алгоритм оператора локального поиска, применяемого к популяции после оператора мутации.
Оператор локального поиска представляет собой реализацию алгоритма имитации отжига, причем температура процесса отжига является основным критерием при расчете тепловой модели.
В алгоритме используются две тепловые модели.
Полная тепловая модель рассчитывает значения температур в установившемся режиме численным методом конечных разностей.
Упрощенная модель рассчитывает приближенную тепловую оценку.
Полученные значения нормируются в пределах от 0 до 100.
Предлагаемый алгоритм работает в два этапа.
При этом используются обе тепловые модели: на каждой итерации упрощенная тепловая модель, а при снижении температуры отжига полная тепловая модель.
На втором этапе итерационно на каждом слое производятся изменения топологии, затрагивающие только данный слой, при этом используется только упрощенная тепловая модель.
Разработанный программный комплекс позволяет осуществлять автоматизированное планирование кристалла схемы с учетом критериев тепловыделения и длины межсоединений.
Для реализации генетического алгоритма выбрана библиотека GAlib.
Анализ существующих библиотек показал, что данное решение является наиболее подходящим, так как код представлен на языке C++, обладает высоким быстродействием и достаточной функциональностью для осуществления генетического поиска [13].
Кроме того, GAlib предоставляет требуемые механизмы для расширения возможностей встроенных объектов.
Во-первых, можно создать классы-наследники и определить новые методы класса.
Если же требуются только незначительные модификации поведения объектов классов данной библиотеки, то в большинстве случаев достаточно определить собственную функцию и настроить объект класса таким образом, чтобы он использовал пользовательскую функцию вместо функции по умолчанию.
Архитектура подсистемы планирования СБИС приведена на рисунке 4.
В реализованной подсистеме используется объектно-ориентированный подход с максимальным разделением кода планировщика, расчета целевой функции и тепловой модели в различных модулях .
Это позволяет легко интегрировать в программный продукт дополнительные возможности и алгоритмы.
Причем иерархия классов позволяет избежать дублирования исходного кода.
Модуль планировщика осуществляет программную реализацию описанного комбинированного оптимизационного алгоритма.
Модуль теплового моделирования содержит набор математических моделей для расчета тепловых параметров схемы.
Модуль конфигураций алгоритма содержит профили процесса оптимизации и теплового моделирования.
Входными данными программы являются два текстовых файла.
Первый файл содержит описание структуры схемы: размеры элементов и их взаимосвязь, второй тепловые параметры элементов.
Значения в строке разделяются символом табуляции.
Программный продукт реализован в виде классов, внедренных в консольное приложение.
Особенности архитектуры позволяют использовать данные классы и для создания оконного приложения без дополнительной модификации.
В КМОП СБИС увеличение рабочей температуры на каждые 10 C увеличивает вероятность отказов вдвое [9].
Это позволяет существенно увеличить надежность электронных устройств и снизить их энергопотребление за счет уменьшения числа межсоединений.
В заключение отметим, что научная новизна предложенного подхода заключается в решении задачи планирования трехмерной СБИС с учетом тепловых эффектов, имеющей существенное значение в создании интеллектуальных САПР нового поколения для синтеза топологии схем трехмерной интеграции.
Разработанная на основе данного подхода программная подсистема позволяет осуществлять автоматизированное планирование кристалла схемы с учетом критериев тепловыделения и длины межсоединений.
В следующих работах авторы планируют решить задачу учета подпороговых токов утечки при тепловом моделировании на этапе топологического планирования.
Это позволит получить более точные результаты максимальной температуры при расчете целевой функции и соответственно улучшить результаты оптимизации.
